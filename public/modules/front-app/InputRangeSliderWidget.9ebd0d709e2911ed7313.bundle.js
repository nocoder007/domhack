(self.webpackChunk=self.webpackChunk||[]).push([[5934],{63349:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},96156:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},77608:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return r}})},10379:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(14665);function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},46070:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(90484),i=n(63349);function o(e,t){return!t||"object"!==(0,r.Z)(t)&&"function"!=typeof t?(0,i.Z)(e):t}},14665:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return r}})},32465:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{Z:function(){return r}})},90484:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},68279:function(e,t,n){"use strict";n.r(t);var r,i=n(96156),o=n(92137),s=n(6610),l=n(5991),a=n(63349),p=n(10379),c=n(46070),u=n(77608),d=n(32465),f=n(87757),m=n.n(f),g=n(48379);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=window.altrpHelpers.isEditor,S=window.altrpLibs.Blueprint.RangeSlider;(window.globalDefaults=window.globalDefaults||[]).push("\n.bp3-slider-label{\n    white-space: nowrap;\n}\n.bp3-slider-handle{\n    z-index: 2;\n}\n.bp3-slider-label{\n    z-index: 1;\n}\n");var y=styled.div(r||(r=(0,d.Z)(["\n  .altrp-field-slider .bp3-slider-handle {\n    background-image: none;\n  }\n\n  ","\n"])),(function(e){var t="";return e.handleSize&&e.handleSize.size&&(t+="\n        &.altrp-field-slider-horizontal .bp3-slider-handle.bp3-start {\n          left: calc(".concat((e.value[0]/e.max*100).toFixed(2),"% - 8px) !important;\n        }\n\n        &.altrp-field-slider-horizontal .bp3-slider-handle.bp3-end {\n          left: calc(").concat((e.value[1]/e.max*100).toFixed(2),"% - 8px) !important;\n        }\n\n        &.altrp-field-slider-vertical .bp3-slider-handle.bp3-start {\n          bottom: calc(").concat((e.value[0]/e.max*100).toFixed(2),"% - ").concat(e.handleSize.size-4,"px) !important;\n        }\n\n        &.altrp-field-slider-vertical .bp3-slider-handle.bp3-end {\n          bottom: calc(").concat((e.value[1]/e.max*100).toFixed(2),"% - ").concat(e.handleSize.size-4,"px) !important;\n        }\n        ")),t})),R=function(e){(0,p.Z)(d,e);var t,r,i=(t=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,u.Z)(t);if(r){var i=(0,u.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function d(e){var t;(0,s.Z)(this,d),(t=i.call(this,e)).dispatchFieldValueToStore=function(){var e=(0,o.Z)(m().mark((function e(r,i){var o,s,l,a,p,c=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.length>2&&void 0!==c[2]&&c[2],0===i?(s=t.props.element.getFormId("form_id_start"),l=t.props.element.getFieldId("field_id_start")):1===i&&(s=t.props.element.getFormId("form_id_end"),l=t.props.element.getFieldId("field_id_end")),-1!==l.indexOf("{{")&&(l=replaceContentWithData(l)),!(_.isObject(t.props.appStore)&&l&&s)){e.next=13;break}if(t.props.appStore.dispatch((0,g.Az)(l,r,s,o)),!o){e.next=13;break}if(!(a=t.props.element.getSettings("change_actions"))||v()){e.next=13;break}return e.next=10,Promise.all([n.e(4079),n.e(6593),n.e(2167),n.e(6737)]).then(n.bind(n,2167));case 10:return p=e.sent.default,e.next=13,p.callAllWidgetActions(t.props.element.getIdForAction(),"change",a,t.props.element);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t.getValue=function(){var e,n=t.props.element.getFormId("form_id_start"),r=t.props.element.getFieldId("field_id_start"),i=t.props.element.getFormId("form_id_end"),o=t.props.element.getFieldId("field_id_end");return(e=v()?t.state.value:[_.get(appStore.getState(),"formsStore.".concat(n,".").concat(r),""),_.get(appStore.getState(),"formsStore.".concat(i,".").concat(o),"")])[0]||e[1]?(e[0]||(e[0]=t.props.element.getResponsiveSetting("min","",0)),e[1]||(e[1]=t.props.element.getResponsiveSetting("max","",100)),e=e.map((function(e){return Number(e)||0}))):[t.props.element.getResponsiveSetting("min","",0),t.props.element.getResponsiveSetting("max","",100)]};var r=e.element.getResponsiveSetting("step","",null),l=e.element.getResponsiveSetting("min","",0),p=e.element.getResponsiveSetting("max","",100);return r&&(r=(p-l)/r),t.state={settings:e.element.getSettings(),value:[l,p],step:r||1},e.element.component=(0,a.Z)(t),window.elementDecorator&&window.elementDecorator((0,a.Z)(t)),e.baseRender&&(t.render=e.baseRender((0,a.Z)(t))),t.onChange=t.onChange.bind((0,a.Z)(t)),t.label=t.label.bind((0,a.Z)(t)),t}return(0,l.Z)(d,[{key:"_componentDidUpdate",value:function(e,t){var n=this,r=t.step,i=this.props.element.getResponsiveSetting("step","",null),o=this.props.element.getResponsiveSetting("min","",0),s=this.props.element.getResponsiveSetting("max","",100);i&&i<s&&(i=(s-o)/i),i!==r&&this.setState((function(e){return h(h({},e),{},{step:i,value:[n.props.element.getResponsiveSetting("initial","",0),n.props.element.getResponsiveSetting("initial_second","",0)]})}))}},{key:"onChange",value:function(e){var t=this.props.element.getResponsiveSetting("decimal_place","",null);t=Math.abs(t),e.forEach((function(n,r){Number.isInteger(n)||(e[r]=n.toFixed(t))})),v()?this.setState((function(t){return h(h({},t),{},{value:e})})):(this.dispatchFieldValueToStore(e[0],0,!0),this.dispatchFieldValueToStore(e[1],1,!0))}},{key:"label",value:function(e){var t=this.props.element.getResponsiveSetting("decimal_place","",null),n=this.props.element.getResponsiveSetting("custom_label","","{n}"),r=this.props.element.getResponsiveSetting("thousands_separator","",!1),i=this.props.element.getResponsiveSetting("thousands_separator_value",""," "),o=this.props.element.getResponsiveSetting("decimal_separator");return e=Number(e),!Number.isInteger(e)&&t&&(t=Math.abs(t),e=e.toFixed(t)),!Number.isInteger(e)&&o&&(e=e.toString().replace(".",o)),r&&i&&(e=e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,i)),n.toString().replace(/{n}/,e)}},{key:"render",value:function(){var e=this.props.element.getResponsiveSetting("min","",0),t=this.props.element.getResponsiveSetting("max","",100),n=this.props.element.getResponsiveSetting("label_step","",25),r=this.props.element.getResponsiveSetting("decimal_place","",null),i=this.props.element.getResponsiveSetting("vertical","",!1),o=this.props.element.getResponsiveSetting("handle_size","",null),s=this.props.element.getResponsiveSetting("step","",1),l=this.getValue();return Number.isNaN(l[0])&&(l[0]=Number(e)),Number.isNaN(l[1])&&(l[1]=Number(t)),React.createElement(y,{value:this.state.value,max:t,handleSize:o,className:"altrp-field-slider-wrapper"+(i?" altrp-field-slider-vertical":" altrp-field-slider-horizontal")},React.createElement(S,{min:e,max:t,stepSize:s,value:l,onChange:this.onChange,labelPrecision:r,labelRenderer:this.label,labelStepSize:n,vertical:i,className:"altrp-field-slider"}))}}]),d}(Component);t.default=R},48379:function(e,t,n){"use strict";n.d(t,{sc:function(){return r},Yw:function(){return i},Az:function(){return o}});var r="CHANGE_FORM_FIELD_VALUE",i="CHANGE_FORM_FIELD_VALUE";function o(e,t,n,i){return{type:r,fieldName:e,value:t,formId:n,changedField:i?"".concat(n,".").concat(e):null}}}}]);
//# sourceMappingURL=InputRangeSliderWidget.9ebd0d709e2911ed7313.bundle.js.map