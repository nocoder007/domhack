(self.webpackChunk=self.webpackChunk||[]).push([[4894],{71743:function(e,t,n){"use strict";var r=n(6610),a=n(5991),o=n(83465),i=n.n(o),u=n(29208),l=n.n(u),c=n(31468),s=n.n(c),p=n(38394),d=n.n(p),m=n(96633),f=n.n(m),h=n(99245),g=n.n(h),v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.data=i()(t)}return(0,a.Z)(e,[{key:"getData",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?i()(this.data):this.data}},{key:"isEmpty",value:function(){return g()(this.data)}},{key:"getProperty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l()(this.data,e,t)}},{key:"hasProperty",value:function(e){return d()(this.data,e)}},{key:"setProperty",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n instanceof e&&(n=n.getData(!1)),s()(this.data,t,n)}},{key:"unsetProperty",value:function(e){return f()(this.data,e)}}]),e}();window.AltrpModel=v,t.Z=v},78578:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(96156),a=n(92137),o=n(6610),i=n(5991),u=n(63349),l=n(10379),c=n(46070),s=n(77608),p=n(87757),d=n.n(p),m=n(38773);function f(){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(d().mark((function e(){var t,n,r,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:""){e.next=3;break}return e.abrupt("return",null);case 3:return n=new m.Z({route:"/ajax/menus"}),e.next=6,n.get(t);case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(5998);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=window.altrpHelpers,b=w.isEditor,R=w.mbParseJSON,D=window.altrpLibs.Blueprint,k=D.Button,E=D.ButtonGroup,M=D.Menu,O=D.MenuItem,S=D.Position,P=window.altrpLibs.Popover2;(window.globalDefaults=window.globalDefaults||[]).push(".altrp-menu-item__icon svg {\n    display: block;\n    height: 20px;\n    width: 20px;\n  }");var x=function(e){(0,l.Z)(p,e);var t,n,r=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var a=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function p(e){var t;return(0,o.Z)(this,p),(t=r.call(this,e)).getMenuData=(0,a.Z)(d().mark((function e(){var n,r,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props.element.getResponsiveSetting("menu"),(!t.state.menuData&&n||t.menuGUID!==n)&&!t.loading){e.next=3;break}return e.abrupt("return");case 3:if(t.loading=!0,r=appStore.getState().altrpMenus,a=r.find((function(e){return e.guid===n}))){e.next=13;break}return e.next=9,f(n);case 9:(a=e.sent).children=R(a.children),a.settings=R(a.settings),appStore.dispatch((0,g.b)(a));case 13:t.setState((function(e){return y(y({},e),{},{menuData:a})}),(function(){t.loading=!1,t.menuGUID=n}));case 14:case"end":return e.stop()}}),e)}))),t.getMenuClasses=function(){return["altrp-menu"].join(" ")},t.renderSubItems=function(e,n){if(!e.length)return null;var r=t.props.element,a={usePortal:!0,portalClassName:"altrp-portal altrp-portal".concat(t.elementId),portalContainer:window.EditorFrame?window.EditorFrame.contentWindow.document.body:document.body},o=t.props.element.getResponsiveSetting("button");return 1!==n||"horizontal"!==r.getResponsiveSetting("type")||o||(a.position=S.BOTTOM_LEFT),React.createElement(React.Fragment,null,e.map((function(e){return React.createElement(O,{popoverProps:a,depth:n,href:e.url,width:100,className:"altrp-menu-item altrp-menu-item".concat(t.elementId),key:e.id,onClick:function(n){n.preventDefault(),!b()&&e.url&&(t.props.history&&e.url?t.props.history.push(e.url):window.location.href=e.url)},icon:React.createElement("span",{className:"altrp-menu-item__icon",dangerouslySetInnerHTML:{__html:e.icon}}),text:e.label},t.renderSubItems(e.children,n+1))})))},t.renderButton=function(){var e=t.state.menuData;if(!e)return null;var n=_.get(e,"settings.toggle_icon","");return React.createElement(P,{content:t.renderVerticalMenu(),className:"altrp-popover",portalContainer:window.EditorFrame?window.EditorFrame.contentWindow.document.body:document.body,portalClassName:"altrp-portal altrp-portal_main altrp-portal".concat(t.elementId),minimal:!0},React.createElement(k,{className:"altrp-menu-toggle",text:n?React.createElement("span",{className:"altrp-menu-item__icon",dangerouslySetInnerHTML:{__html:n}}):""}))},t.state={},window.elementDecorator&&window.elementDecorator((0,u.Z)(t)),e.baseRender&&(t.render=e.baseRender((0,u.Z)(t))),t.elementId=e.element.getId(),t}return(0,i.Z)(p,[{key:"renderHorizontalMenu",value:function(){var e=this;this.getMenuData();var t=this.state.menuData;return t?React.createElement(E,{fill:!0,alignText:"left"},t.children.map((function(t){return React.createElement(k,{minimal:!0,icon:React.createElement("span",{className:"altrp-menu-item__icon",dangerouslySetInnerHTML:{__html:t.icon}}),rightIcon:"caret-down",text:t.label,href:t.url,key:t.id,onClick:function(n){n.preventDefault(),t.url&&!b()&&(e.props.history?e.props.history.push(t.url):window.location.href=t.url)}})}))):"Select Menu"}},{key:"renderVerticalMenu",value:function(){this.getMenuData();var e=this.state.menuData;return e?React.createElement(M,{className:this.getMenuClasses()},this.renderSubItems(e.children,1)):"Select Menu"}},{key:"render",value:function(){this.getMenuData();var e=this.props.element.getResponsiveSetting("type");if(this.props.element.getResponsiveSetting("button"))return React.createElement(React.Fragment,null,this.renderButton());switch(e){case"horizontal":default:return React.createElement(React.Fragment,null,this.renderVerticalMenu())}}}]),p}(Component)},5998:function(e,t,n){"use strict";n.d(t,{Q:function(){return r},b:function(){return a}});var r="ADD_MENU";function a(e){return{type:r,menu:e}}}}]);
//# sourceMappingURL=MenuWidget.7f7e8aaa7ee0445f4398.bundle.js.map