{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/get.js","webpack:///./node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./resources/modules/editor/src/js/classes/AltrpModel.js","webpack:///./resources/modules/editor/src/js/components/Styles.js","webpack:///./resources/modules/editor/src/js/renders/email/rootElementEmailRender.js","webpack:///./resources/modules/editor/src/js/renders/email/sectionElementEmailRender.js","webpack:///./resources/modules/editor/src/js/renders/email/buttonElementEmailRender.js","webpack:///./resources/modules/editor/src/js/renders/email/columnElementEmailRender.js","webpack:///./resources/modules/editor/src/js/renders/email/headingElementEmailRender.js","webpack:///./resources/modules/editor/src/js/renders/email/textElementEmailRender.js","webpack:///./resources/modules/editor/src/js/renders/email/imageElementEmailRender.js","webpack:///./resources/modules/editor/src/js/components/altrp-table/components/EmailTableComponent.js","webpack:///./resources/modules/editor/src/js/renders/email/tableElementEmailRender.js","webpack:///./resources/modules/front-app/src/js/libs/altrp.js","webpack:///./resources/modules/editor/src/js/decorators/base-email-render.js","webpack:///./node_modules/dot-prop-immutable/lib/index.js","webpack:///./node_modules/js-cookie/src/js.cookie.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_arrayWithHoles","isArray","_assertThisInitialized","self","ReferenceError","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","_get","property","receiver","Reflect","get","base","object","hasOwnProperty","call","getPrototypeOf","desc","getOwnPropertyDescriptor","_getPrototypeOf","o","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","_iterableToArray","iter","Symbol","iterator","from","_nonIterableRest","_possibleConstructorReturn","_setPrototypeOf","p","_slicedToArray","arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","push","err","unsupportedIterableToArray","nonIterableRest","_toArray","_toConsumableArray","arrayLikeToArray","iterableToArray","_typeof","_unsupportedIterableToArray","minLen","n","toString","slice","name","test","AltrpModel","data","this","cloneDeep","clone","isEmpty","defaultValue","has","getData","set","unset","window","Styles","state","elementStyles","fonts","stylesContainer","React","createRef","stylesModule","stylesModuleResolve","prevProps","prevState","isEditor","Set","_","toPairs","altrpFonts","forEach","add","toArray","isEqual","setState","elementId","styles","elementFound","needUpdate","elementStyle","map","element","index","splice","uniqBy","className","id","ref","rel","href","altrp","version","renderFontLink","Component","reactRedux","connect","rootElementEmailRender","rootElementTag","elementProps","border","cellPadding","cellSpacing","width","style","margin","padding","fontFamily","ElementWrapper","childrenComponents","children","section","getId","component","componentClass","baseRender","createElement","sectionElementEmailRender","sectionElementTag","settings","getSettings","paddingLeft","paddingRight","paddingTop","paddingBottom","backgroundColor","columns","column","buttonElementEmailRender","text","getContent","buttonStyles","fontSize","lineHeight","letterSpacing","fontWeight","color","borderColor","borderRadius","boxShadow","backgroundPosition","backgroundAttachment","backgroundRepeat","display","textDecoration","marginTop","top","unit","marginRight","right","marginBottom","bottom","marginLeft","left","colorPickedHex","isWithGradient","backgroundImage","prepareURLForEmail","url","backgroundSize","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","borderRadiusTop","borderRadiusRight","borderRadiusBottom","borderRadiusLeft","type","offsetX","horizontal","offsetY","vertical","blurRadius","blur","spreadRadius","spread","decoration","family","size","spacing","fontStyle","weight","textTransform","transform","location","origin","buttonProps","dangerouslySetInnerHTML","__html","wrapperStyles","textAlign","justifyContent","wrapperProps","columnElementEmailRender","columnElementTag","layout_column_width","headingElementEmailRender","headingStyles","opacity","function","headingProps","headingTag","textElementEmailRender","textContent","CKEditor","changeText","readOnly","textWidget","imageElementEmailRender","media","content_media","objectFit","position","height","alignContent","model","hasCardModel","getCardModel","currentModel","content_path","isObject","getDataByPath","File","assetType","isString","imageProps","src","wrapperTag","EmailTableComponent","tables_columns","table_style_table_border_type","tableStyles","borderCollapse","defaultCellStyle","table_table_header_alignment","verticalAlign","headCellStyle","column_header_alignment","table_style_header_border_type","columnProps","column_width","column_name","row","idx","cellContent","column_link","accessor","cellStyles","column_body_alignment","table_table_body_alignment","column_cell_vertical_alignment","cell_vertical_alignment","table_style_body_border_type","cellProps","tableElementEmailRender","getProperty","path","replace","query","Query","table_query","showTable","updateToken","widgetId","getFromModel","modelData","replaceApp","document","getElementById","appElement","remove","removeAttribute","removeEventListener","console","error","altrpHelpers","baseEmailRender","getName","bind","Cookies","StylesComponent","Resource","Area","loadVIPlugin","$","bvi","addEventListener","setCurrentScreen","CONSTANTS","default","e","currentScreen","appStore","getState","changedScreen","SCREENS","find","screen","fullMediaQuery","matchMedia","matches","dispatch","prop","propToArray","setPropImmutableRec","head","getArrayIndex","assign","undefined","Math","max","Error","parseInt","split","reduce","ret","el","list","last","prev","pop","module","exports","delete","deletePropImmutableRec","concat","toggle","curVal","Boolean","merge","val","factory","extend","result","arguments","attributes","decode","s","decodeURIComponent","init","converter","api","defaults","expires","Date","toUTCString","JSON","stringify","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","cookie","json","jar","cookies","parts","join","charAt","read","parse","getJSON","withConverter"],"mappings":"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","file":"altrp.199e580d1ca03c371142.bundle.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","/**\r\n * Имеет интерфейс для доступы к свойствам data (любой вложенности)\r\n * @class AltrpModel\r\n */\r\nimport cloneDeep from 'lodash.clonedeep';\r\nimport get from 'lodash.get';\r\nimport set from 'lodash.set';\r\nimport has from 'lodash.has';\r\nimport unset from 'lodash.unset';\r\nimport isEmpty from 'lodash.isempty';\r\n// import {cloneDeep, get, set, has, unset, isString, isEmpty} from \"lodash\";\r\n\r\nclass AltrpModel {\r\n  constructor(data = {}) {\r\n    this.data = cloneDeep(data);\r\n  }\r\n\r\n  /**\r\n   * Возваращает объект данных\r\n   * @params {boolean} clone - клонировать или ссылку на данные\r\n   * @return {{}}\r\n   */\r\n  getData(clone = true) {\r\n    if(clone){\r\n      return cloneDeep(this.data);\r\n    }\r\n    return this.data;\r\n  }\r\n\r\n  /**\r\n   * Пустой ли объект\r\n   */\r\n  isEmpty(){\r\n    return isEmpty(this.data);\r\n  }\r\n  /**\r\n   * Возврашает значение свойства name\r\n   * @params {string} name\r\n   * @params {*} defaultValue\r\n   * @return {*}\r\n   */\r\n  getProperty(name, defaultValue = '') {\r\n    return get(this.data, name, defaultValue);\r\n  }\r\n  /**\r\n   * Возврашает значение свойства name\r\n   * @params {string} name\r\n   * @params {*} defaultValue\r\n   * @return {*}\r\n   */\r\n  hasProperty(name, defaultValue = '') {\r\n    return has(this.data, name);\r\n  }\r\n  /**\r\n   * Возврашает значение свойства name\r\n   * @params {string} name\r\n   * @params {*} defaultValue\r\n   * @return {{}}\r\n   */\r\n  setProperty(name, value = '') {\r\n    if(value instanceof AltrpModel){\r\n      value = value.getData(false);\r\n    }\r\n    return set(this.data, name, value);\r\n  }\r\n  /**\r\n   * Удаляет свойства name\r\n   * @params {string} name\r\n   * @return {*}\r\n   */\r\n  unsetProperty(name) {\r\n    return unset(this.data, name);\r\n  }\r\n}\r\nwindow.AltrpModel = AltrpModel;\r\nexport default AltrpModel\r\n","import { isEditor, renderFontLink } from \"../../../../front-app/src/js/helpers\";\n\nclass Styles extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      elementStyles: this.props.elementStyles || [],\n      fonts: []\n    };\n    this.stylesContainer = React.createRef();\n    window.stylesModule = this;\n    window.stylesModuleResolve(this);\n  }\n\n  /**\n   * шрифты для загрузки в iframe редактора\n   * @param {{}} prevProps\n   * @param {{}} prevState\n   */\n  componentDidUpdate(prevProps, prevState) {\n    if (!isEditor()) {\n      return;\n    }\n    let fonts = new Set();\n    const fontsPairs = _.toPairs(this.props.altrpFonts.getData());\n    fontsPairs.forEach(([key, value]) => {\n      fonts.add(value);\n    });\n    fonts = _.toArray(fonts);\n    if (_.isEqual(fonts, this.state.fonts)) {\n      return;\n    }\n    this.setState(state => ({ ...state, fonts }));\n  }\n\n  /**\n   * @param {string} elementId\n   * @param {string} styles\n   * */\n  addElementStyles(elementId, styles) {\n\n    if (!styles) {\n      return;\n    }\n    let elementFound = false;\n    let elementStyles = this.state.elementStyles;\n    let needUpdate = false;\n    elementStyles.forEach(elementStyle => {\n      if (elementStyle.elementId === elementId) {\n        elementFound = true;\n        // console.error(elementStyle.styles === styles);\n        if (elementStyle.styles !== styles) {\n          elementStyle.styles = styles;\n          needUpdate = true;\n        } else {\n          // console.log(styles);\n        }\n      }\n    });\n    if (!elementFound) {\n      needUpdate = true;\n      elementStyles.push({\n        elementId,\n        styles\n      });\n    }\n    if (!needUpdate) {\n      return;\n    }\n    this.setState({\n      ...this.state,\n      elementStyles\n    });\n  }\n\n  /**\n   * @param {string} elementId\n   * */\n  removeStyleById(elementId) {\n    let elementStyles = [...this.state.elementStyles];\n\n    elementStyles.map((element, index) => {\n      if (element.elementId === elementId) {\n        elementStyles.splice(index, 1);\n      }\n    });\n\n    this.setState({\n      elementStyles: elementStyles,\n      fonts: []\n    });\n  }\n\n  render() {\n    let elementStyles = _.uniqBy(this.state.elementStyles, \"elementId\");\n    return (\n      <div\n        className=\"styles-container\"\n        id=\"styles-container\"\n        ref={this.stylesContainer}\n      >\n        {!isEditor() ? (\n          <link\n            rel=\"stylesheet\"\n            href={\"/modules/front-app/front-app.css?\" + altrp.version}\n          />\n        ) : null}\n        {elementStyles.map(elementStyle => {\n          return (\n            <style\n              data-styles-id={elementStyle.elementId}\n              id={`altrp-styles${elementStyle.elementId}`}\n              className={`altrp-styles${elementStyle.elementId}`}\n              key={elementStyle.elementId}\n            >\n              {elementStyle.styles}\n            </style>\n          );\n        })}\n        {isEditor() ? this.state.fonts.map(renderFontLink) : null}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  if (!isEditor()) {\n    return {};\n  }\n  return {\n    altrpFonts: state.altrpFonts\n  };\n}\nexport default window.reactRedux.connect(mapStateToProps)(Styles);\n","import {isEditor} from \"../../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Возвращает шаблон корневого элемента для письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function rootElementEmailRender() {\r\n  let rootElementTag;\r\n  rootElementTag = 'table';\r\n  const elementProps = {\r\n    border: \"0\",\r\n    cellPadding: \"0\",\r\n    cellSpacing: \"0\",\r\n    width: \"100%\",\r\n    style: {\r\n      margin: 0,\r\n      padding: 0,\r\n      width: \"100%\",\r\n      fontFamily: 'Arial, sans-serif'\r\n    },\r\n  };\r\n  if (isEditor()) {\r\n    rootElementTag = 'div';\r\n    elementProps.className = 'sections-wrapper';\r\n  }\r\n  let ElementWrapper = this.props.ElementWrapper || window.ElementWrapper;\r\n  let childrenComponents = this.props.children.map(section => (\r\n      <ElementWrapper\r\n          ElementWrapper={ElementWrapper}\r\n          key={section.getId()}\r\n          component={section.componentClass}\r\n          baseRender={this.props.baseRender}\r\n          element={section}\r\n      />\r\n  ));\r\n  if (!isEditor()) {\r\n    childrenComponents = <tbody>{childrenComponents}</tbody>;\r\n  }\r\n  return React.createElement(rootElementTag, elementProps, childrenComponents);\r\n\r\n}\r\n","import {isEditor} from \"../../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Возвращает шаблон секции для письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function sectionElementEmailRender(){\r\n  const settings = this.props.element.getSettings();\r\n\r\n  let sectionElementTag;\r\n  sectionElementTag = 'tr';\r\n  const elementProps = {\r\n    style: {\r\n      paddingLeft: _.get(settings, 'position_style_position_padding.left', '10') + _.get(settings, 'position_style_position_padding.unit', 'px'),\r\n      paddingRight: _.get(settings, 'position_style_position_padding.right', '10') + _.get(settings, 'position_style_position_padding.unit', 'px'),\r\n      paddingTop: _.get(settings, 'position_style_position_padding.top', '10') + _.get(settings, 'position_style_position_padding.unit', 'px'),\r\n      paddingBottom: _.get(settings, 'position_style_position_padding.bottom', '10') + _.get(settings, 'position_style_position_padding.unit', 'px'),\r\n      backgroundColor: _.get(settings, 'section_style_background_color.colorPickedHex', ''),\r\n    },\r\n  };\r\n  if(isEditor()){\r\n    sectionElementTag = 'div';\r\n    elementProps.className = 'altrp-section';\r\n  }\r\n  let ElementWrapper = this.props.ElementWrapper || window.ElementWrapper;\r\n  let columns = this.state.children.map(column => {\r\n        let columnContent = <ElementWrapper\r\n            ElementWrapper={ElementWrapper}\r\n            key={column.getId()}\r\n            component={column.componentClass}\r\n            baseRender={this.props.baseRender}\r\n            element={column}\r\n        />;\r\n        return columnContent;\r\n      }\r\n\r\n  );\r\n  if(! isEditor()){\r\n    columns =\r\n        <td style={elementProps.style}><table width=\"100%\"><tbody><tr>{columns}</tr></tbody></table></td>;\r\n  }\r\n  return React.createElement(sectionElementTag, elementProps, columns);\r\n}","import {isEditor, parseURLTemplate, prepareURLForEmail} from \"../../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Возвращает шаблон колонки для письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function buttonElementEmailRender(){\r\n\r\n  const settings = this.props.element.getSettings();\r\n  const text = this.getContent('button_text') || '';\r\n  const buttonStyles = {\r\n    paddingTop: '20px',\r\n    paddingRight: '25px',\r\n    paddingBottom: '20px',\r\n    paddingLeft: '25px',\r\n    fontSize: '16px',\r\n    fontFamily: \"Open Sans\",\r\n    lineHeight: '1',\r\n    letterSpacing: '0',\r\n    fontWeight: 'normal',\r\n    color: 'white',\r\n    borderColor: '#32a852',\r\n    borderRadius: '6px',\r\n    boxShadow: '0 0 0 0 black',\r\n    backgroundColor: '#343b4c',\r\n    backgroundPosition: 'top left',\r\n    backgroundAttachment: 'scroll',\r\n    backgroundRepeat: 'repeat',\r\n    width: 'auto',\r\n    display: 'inline-block',\r\n    textDecoration: 'none'\r\n  };\r\n\r\n  if(settings['position_margin']) {\r\n    buttonStyles.marginTop = settings['position_margin'].top ? (settings['position_margin'].top + settings['position_margin'].unit) : buttonStyles.marginTop;\r\n    buttonStyles.marginRight = settings['position_margin'].right ? (settings['position_margin'].right + settings['position_margin'].unit) : buttonStyles.marginRight;\r\n    buttonStyles.marginBottom = settings['position_margin'].bottom ? (settings['position_margin'].bottom + settings['position_margin'].unit) : buttonStyles.marginBottom;\r\n    buttonStyles.marginLeft = settings['position_margin'].left ? (settings['position_margin'].left + settings['position_margin'].unit) : buttonStyles.marginLeft ;\r\n  }\r\n\r\n  if(settings['position_padding']) {\r\n    buttonStyles.paddingTop = settings['position_padding'].top ? (settings['position_padding'].top + settings['position_padding'].unit) : buttonStyles.paddingTop;\r\n    buttonStyles.paddingRight = settings['position_padding'].right ? (settings['position_padding'].right + settings['position_padding'].unit) : buttonStyles.paddingRight;\r\n    buttonStyles.paddingBottom = settings['position_padding'].bottom ? (settings['position_padding'].bottom + settings['position_padding'].unit) : buttonStyles.paddingBottom;\r\n    buttonStyles.paddingLeft = settings['position_padding'].left ? (settings['position_padding'].left + settings['position_padding'].unit) : buttonStyles.paddingLeft;\r\n  }\r\n\r\n  if(settings['background_color']) {\r\n    buttonStyles.backgroundColor = settings['background_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['gradient'] && settings['gradient'].isWithGradient) {\r\n    buttonStyles.backgroundImage = settings['gradient'].value.slice(0, -1);\r\n  }\r\n\r\n  if(_.get(settings, 'background_image.url')) {\r\n    buttonStyles.backgroundImage = `url(${prepareURLForEmail(settings['background_image'].url)})`;\r\n  }\r\n\r\n  if(settings['background_position']) {\r\n    buttonStyles.backgroundPosition = settings['background_position'];\r\n  }\r\n\r\n  if(settings['background_attachment']) {\r\n    buttonStyles.backgroundAttachment = settings['background_attachment'];\r\n  }\r\n\r\n  if(settings['background_repeat']) {\r\n    buttonStyles.backgroundRepeat = settings['background_repeat'];\r\n  }\r\n\r\n  if(settings['background_size']) {\r\n    buttonStyles.backgroundSize = settings['background_size'];\r\n  }\r\n\r\n  if(settings['border_type'] && settings['border_type'] !== \"none\") {\r\n    buttonStyles.borderTopWidth = settings['border_width'].top + settings['border_width'].unit;\r\n    buttonStyles.borderRightWidth = settings['border_width'].right + settings['border_width'].unit;\r\n    buttonStyles.borderBottomWidth = settings['border_width'].bottom + settings['border_width'].unit;\r\n    buttonStyles.borderLeftWidth = settings['border_width'].left + settings['border_width'].unit;\r\n    buttonStyles.borderStyle = settings['border_type'];\r\n    if(settings['border_color'] && settings['border_color'].colorPickedHex)\r\n      buttonStyles.borderColor = settings['border_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['border_radius'].top || settings['border_radius'].right || settings['border_radius'].bottom || settings['border_radius'].left) {\r\n    let borderRadiusTop = (settings['border_radius'].top ? settings['border_radius'].top : \"0\") + settings['border_radius'].unit;\r\n    let borderRadiusRight = (settings['border_radius'].right ? settings['border_radius'].right : \"0\") + settings['border_radius'].unit;\r\n    let borderRadiusBottom = (settings['border_radius'].bottom ? settings['border_radius'].bottom : \"0\") + settings['border_radius'].unit;\r\n    let borderRadiusLeft = (settings['border_radius'].left ?  settings['border_radius'].left  : \"0\")+ settings['border_radius'].unit;\r\n    buttonStyles.borderRadius = `${borderRadiusTop} ${borderRadiusRight} ${borderRadiusBottom} ${borderRadiusLeft}`;\r\n  }\r\n\r\n  if(settings['style_background_shadow']) {\r\n    let type = settings['style_background_shadow'].type;\r\n    let offsetX = settings['style_background_shadow'].horizontal;\r\n    let offsetY = settings['style_background_shadow'].vertical;\r\n    let blurRadius = settings['style_background_shadow'].blur;\r\n    let spreadRadius = settings['style_background_shadow'].spread;\r\n    let color = settings['style_background_shadow'].colorPickedHex;\r\n    buttonStyles.boxShadow = `${type} ${offsetX}px ${offsetY}px ${blurRadius}px ${spreadRadius} ${color}`;\r\n  }\r\n\r\n  if(settings['font_typographic']) {\r\n    buttonStyles.textDecoration = settings['font_typographic'].decoration || buttonStyles.textDecoration;\r\n    buttonStyles.fontFamily = settings['font_typographic'].family || buttonStyles.fontFamily;\r\n    buttonStyles.lineHeight = settings['font_typographic'].lineHeight || buttonStyles.lineHeight;\r\n    buttonStyles.fontSize = settings['font_typographic'].size ? (settings['font_typographic'].size + 'px') : buttonStyles.fontSize;\r\n    buttonStyles.letterSpacing = settings['font_typographic'].spacing + 'px' || buttonStyles.letterSpacing;\r\n    buttonStyles.fontStyle = settings['font_typographic'].style || buttonStyles.style;\r\n    buttonStyles.fontWeight = settings['font_typographic'].weight || buttonStyles.fontWeight;\r\n    buttonStyles.textTransform = settings['font_typographic'].transform || buttonStyles.textTransform;\r\n  }\r\n\r\n  if(settings['font_color']) {\r\n    buttonStyles.color = settings['font_color'].colorPickedHex;\r\n  }\r\n  let url = _.get(settings, 'link_link.url', location.origin) || '';\r\n  url = prepareURLForEmail(url);\r\n  const buttonProps = {\r\n    style: buttonStyles,\r\n    href: url,\r\n    dangerouslySetInnerHTML:{\r\n      __html: text,\r\n    },\r\n  };\r\n  const wrapperStyles = {\r\n    display: 'block',\r\n    textAlign: 'center',\r\n  };\r\n\r\n  if(settings['button_alignment']) {\r\n    wrapperStyles.justifyContent = settings['button_alignment'];\r\n    wrapperStyles.display = \"flex\";\r\n  }\r\n\r\n  const wrapperProps = {\r\n    style: wrapperStyles,\r\n  };\r\n\r\n  return <div {...wrapperProps}\r\n              children={React.createElement('a', buttonProps)}/>;\r\n}\r\n","import {isEditor} from \"../../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Возвращает шаблон колонки для письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function columnElementEmailRender(){\r\n  const settings = this.props.element.getSettings();\r\n  let columnElementTag;\r\n  columnElementTag = 'td';\r\n  let width = (settings.layout_column_width || '100') + '%';\r\n  const elementProps = {\r\n    width,\r\n    style: {\r\n      paddingLeft: _.get(settings, 'positioning_padding.left', '10') + _.get(settings, 'positioning_padding.unit', 'px'),\r\n      paddingRight: _.get(settings, 'positioning_padding.right', '10') + _.get(settings, 'positioning_padding.unit', 'px'),\r\n      paddingTop: _.get(settings, 'positioning_padding.top', '10') + _.get(settings, 'positioning_padding.unit', 'px'),\r\n      paddingBottom: _.get(settings, 'positioning_padding.bottom', '10') + _.get(settings, 'positioning_padding.unit', 'px'),\r\n      backgroundColor: _.get(settings, 'column_style_background_color.colorPickedHex', ''),\r\n    },\r\n  };\r\n  if(isEditor()){\r\n    columnElementTag = 'div';\r\n    delete elementProps.width;\r\n    elementProps.className = 'altrp-column';\r\n  }\r\n  let ElementWrapper = this.props.ElementWrapper || window.ElementWrapper;\r\n  return React.createElement(columnElementTag, elementProps,\r\n      this.state.children.map(column => (\r\n          <ElementWrapper\r\n              ElementWrapper={ElementWrapper}\r\n              key={column.getId()}\r\n              component={column.componentClass}\r\n              baseRender={this.props.baseRender}\r\n              element={column}\r\n          />\r\n      ))\r\n  );\r\n}","import _, { head } from \"lodash\";\r\nimport {isEditor, parseURLTemplate, prepareURLForEmail} from \"../../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Возвращает шаблон колонки для письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function headingElementEmailRender(){\r\n\r\n  const settings = this.props.element.getSettings();\r\n  const headingStyles = {\r\n    display: 'block',\r\n    fontSize: '24px',\r\n    fontWeight: '700',\r\n    textDecoration: 'none',\r\n    color: '#242424',\r\n  };\r\n\r\n  if(settings['heading_style_typographic']) {\r\n    headingStyles.textDecoration = settings['heading_style_typographic'].decoration || headingStyles.textDecoration;\r\n    headingStyles.fontFamily = settings['heading_style_typographic'].family || headingStyles.fontFamily;\r\n    headingStyles.lineHeight = settings['heading_style_typographic'].lineHeight || headingStyles.lineHeight;\r\n    headingStyles.fontSize = settings['heading_style_typographic'].size ? (settings['heading_style_typographic'].size + 'px') : headingStyles.fontSize;\r\n    headingStyles.letterSpacing = settings['heading_style_typographic'].spacing + 'px' || headingStyles.letterSpacing;\r\n    headingStyles.fontStyle = settings['heading_style_typographic'].style || headingStyles.style;\r\n    headingStyles.fontWeight = settings['heading_style_typographic'].weight || headingStyles.fontWeight;\r\n    headingStyles.textTransform = settings['heading_style_typographic'].transform || headingStyles.textTransform;\r\n  }\r\n\r\n  if(settings['heading_style_color']) {\r\n    headingStyles.color = settings['heading_style_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['heading_style_text_shadow']) {\r\n    let type = settings['heading_style_text_shadow'].type;\r\n    let offsetX = settings['heading_style_text_shadow'].horizontal;\r\n    let offsetY = settings['heading_style_text_shadow'].vertical;\r\n    let blurRadius = settings['heading_style_text_shadow'].blur;\r\n    let spreadRadius = settings['heading_style_text_shadow'].spread;\r\n    let color = settings['heading_style_text_shadow'].colorPickedHex;\r\n    headingStyles.boxShadow = `${type} ${offsetX}px ${offsetY}px ${blurRadius}px ${spreadRadius} ${color}`;\r\n  }\r\n\r\n  if(settings['style_position_margin']) {\r\n    headingStyles.marginTop = settings['style_position_margin'].top ? (settings['style_position_margin'].top + settings['style_position_margin'].unit) : headingStyles.marginTop;\r\n    headingStyles.marginRight = settings['style_position_margin'].right ? (settings['style_position_margin'].right + settings['style_position_margin'].unit) : headingStyles.marginRight;\r\n    headingStyles.marginBottom = settings['style_position_margin'].bottom ? (settings['style_position_margin'].bottom + settings['style_position_margin'].unit) : headingStyles.marginBottom;\r\n    headingStyles.marginLeft = settings['style_position_margin'].left ? (settings['style_position_margin'].left + settings['style_position_margin'].unit) : headingStyles.marginLeft ;\r\n  }\r\n\r\n  if(settings['style_position_padding']) {\r\n    headingStyles.paddingTop = settings['style_position_padding'].top ? (settings['style_position_padding'].top + settings['style_position_padding'].unit) : headingStyles.paddingTop;\r\n    headingStyles.paddingRight = settings['style_position_padding'].right ? (settings['style_position_padding'].right + settings['style_position_padding'].unit) : headingStyles.paddingRight;\r\n    headingStyles.paddingBottom = settings['style_position_padding'].bottom ? (settings['style_position_padding'].bottom + settings['style_position_padding'].unit) : headingStyles.paddingBottom;\r\n    headingStyles.paddingLeft = settings['style_position_padding'].left ? (settings['style_position_padding'].left + settings['style_position_padding'].unit) : headingStyles.paddingLeft;\r\n  }\r\n\r\n  if(settings['style_background_color']) {\r\n    headingStyles.backgroundColor = settings['style_background_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['gradient'] && settings['gradient'].isWithGradient) {\r\n    headingStyles.backgroundImage = settings['gradient'].value.slice(0, -1);\r\n  }\r\n  if(_.get(settings, 'background_image.url')) {\r\n    headingStyles.backgroundImage = `url(${prepareURLForEmail(settings['background_image'].url)})`;\r\n  }\r\n\r\n  if(settings['background_position']) {\r\n    headingStyles.backgroundPosition = settings['background_position'];\r\n  }\r\n\r\n  if(settings['background_attachment']) {\r\n    headingStyles.backgroundAttachment = settings['background_attachment'];\r\n  }\r\n\r\n  if(settings['background_repeat']) {\r\n    headingStyles.backgroundRepeat = settings['background_repeat'];\r\n  }\r\n\r\n  if(settings['background_size']) {\r\n    headingStyles.backgroundSize = settings['background_size'];\r\n  }\r\n\r\n  if(settings['style_background_opacity']) {\r\n    headingStyles.opacity = settings['style_background_opacity'].size;\r\n  }\r\n\r\n  if(settings['style_border_type'] && settings['style_border_type'] !== \"none\") {\r\n    headingStyles.borderTopWidth = settings['style_border_width'].top + settings['style_border_width'].unit;\r\n    headingStyles.borderRightWidth = settings['style_border_width'].right + settings['style_border_width'].unit;\r\n    headingStyles.borderBottomWidth = settings['style_border_width'].bottom + settings['style_border_width'].unit;\r\n    headingStyles.borderLeftWidth = settings['style_border_width'].left + settings['style_border_width'].unit;\r\n    if(settings[\"style_border_width\"].unit===\"%\") {\r\n      headingStyles.borderTopWidth = settings['style_border_width'].top + 'vw';\r\n      headingStyles.borderRightWidth = settings['style_border_width'].right + 'vw';\r\n      headingStyles.borderBottomWidth = settings['style_border_width'].bottom + 'vw';\r\n      headingStyles.borderLeftWidth = settings['style_border_width'].left + 'vw';\r\n    }\r\n    headingStyles.borderStyle = settings['style_border_type'];\r\n    if(settings['style_border_color'] && settings['style_border_color'].colorPickedHex)\r\n      headingStyles.borderColor = settings['style_border_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['style_border_radius']) {\r\n    // let borderRadiusTop = settings['border_radius'].top + settings['border_radius'].unit;\r\n    // let borderRadiusRight = settings['border_radius'].right + settings['border_radius'].unit;\r\n    // let borderRadiusBottom = settings['border_radius'].bottom + settings['border_radius'].unit;\r\n    // let borderRadiusLeft = settings['border_radius'].left + settings['border_radius'].unit;\r\n    // headingStyles.borderRadius = `${borderRadiusTop} ${borderRadiusRight} ${borderRadiusBottom} ${borderRadiusLeft}`;\r\n    headingStyles.borderRadius = settings['style_border_radius'].size + settings['style_border_radius'].unit;\r\n  }\r\n\r\n  headingStyles.textDecoration = settings['style_border_text_decoration'] || headingStyles.textDecoration;\r\n\r\n  if(settings['transform_style']) {\r\n    headingStyles.transform = `${settings['transform_style'].function}(${settings['transform_style'].size}${settings['transform_style'].unit})`\r\n  }\r\n  if(settings['heading_settings_alignment']) {\r\n    headingStyles.justifyContent = settings['heading_settings_alignment'];\r\n    headingStyles.display = \"flex\";\r\n  }\r\n\r\n  let url = _.get(settings, 'link_link.url', location.origin) || '';\r\n  url = prepareURLForEmail(url);\r\n  const text = this.getContent('text') || '';\r\n  const headingProps = {\r\n    dangerouslySetInnerHTML:{\r\n      __html: text,\r\n    },\r\n    href: url,\r\n    style: headingStyles,\r\n  };\r\n  const wrapperStyles = {\r\n    display: 'block',\r\n    textAlign: 'center',\r\n  };\r\n  const wrapperProps = {\r\n    style: wrapperStyles,\r\n  };\r\n  let headingTag = url ? 'a' : 'div';\r\n  return <div {...wrapperProps}\r\n              children={React.createElement(headingTag, headingProps)}/>;\r\n}\r\n","import {isEditor, prepareURLForEmail} from \"../../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Возвращает шаблон колонки для письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function textElementEmailRender(){\r\n\r\n  const settings = this.props.element.getSettings();\r\n  const wrapperStyles = {\r\n    display: 'block',\r\n  };\r\n\r\n  if(settings['text_style_position_margin']) {\r\n    wrapperStyles.marginTop = settings['text_style_position_margin'].top ? (settings['text_style_position_margin'].top + settings['text_style_position_margin'].unit) : wrapperStyles.marginTop;\r\n    wrapperStyles.marginRight = settings['text_style_position_margin'].right ? (settings['text_style_position_margin'].right + settings['text_style_position_margin'].unit) : wrapperStyles.marginRight; \r\n    wrapperStyles.marginBottom = settings['text_style_position_margin'].bottom ? (settings['text_style_position_margin'].bottom + settings['text_style_position_margin'].unit) : wrapperStyles.marginBottom;\r\n    wrapperStyles.marginLeft = settings['text_style_position_margin'].left ? (settings['text_style_position_margin'].left + settings['text_style_position_margin'].unit) : wrapperStyles.marginLeft ;\r\n  }\r\n\r\n  if(settings['text_style_position_padding']) {\r\n    wrapperStyles.paddingTop = settings['text_style_position_padding'].top ? (settings['text_style_position_padding'].top + settings['text_style_position_padding'].unit) : wrapperStyles.paddingTop;\r\n    wrapperStyles.paddingRight = settings['text_style_position_padding'].right ? (settings['text_style_position_padding'].right + settings['text_style_position_padding'].unit) : wrapperStyles.paddingRight;\r\n    wrapperStyles.paddingBottom = settings['text_style_position_padding'].bottom ? (settings['text_style_position_padding'].bottom + settings['text_style_position_padding'].unit) : wrapperStyles.paddingBottom;\r\n    wrapperStyles.paddingLeft = settings['text_style_position_padding'].left ? (settings['text_style_position_padding'].left + settings['text_style_position_padding'].unit) : wrapperStyles.paddingLeft;\r\n  }\r\n\r\n  if(settings['text_style_background_color']) {\r\n    wrapperStyles.backgroundColor = settings['text_style_background_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['text_style_background_opacity']) {\r\n    wrapperStyles.opacity = settings['text_style_background_opacity'].size;\r\n  }\r\n\r\n  if(settings['text_style_font_typographic']) {\r\n    wrapperStyles.textDecoration = settings['text_style_font_typographic'].decoration || wrapperStyles.textDecoration;\r\n    wrapperStyles.fontFamily = settings['text_style_font_typographic'].family || wrapperStyles.fontFamily;\r\n    wrapperStyles.lineHeight = settings['text_style_font_typographic'].lineHeight || wrapperStyles.lineHeight;\r\n    wrapperStyles.fontSize = settings['text_style_font_typographic'].size ? (settings['text_style_font_typographic'].size + 'px') : wrapperStyles.fontSize;\r\n    wrapperStyles.letterSpacing = settings['text_style_font_typographic'].spacing + 'px' || wrapperStyles.letterSpacing;\r\n    wrapperStyles.fontStyle = settings['text_style_font_typographic'].style || wrapperStyles.style;\r\n    wrapperStyles.fontWeight = settings['text_style_font_typographic'].weight || wrapperStyles.fontWeight;\r\n    wrapperStyles.textTransform = settings['text_style_font_typographic'].transform || wrapperStyles.textTransform;\r\n  }\r\n\r\n  if(settings['text_style_font_color']) {\r\n    wrapperStyles.color = settings['text_style_font_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['text_style_border_type'] && settings['text_style_border_type'] !== \"none\") {\r\n    wrapperStyles.borderTopWidth = settings['text_style_border_width'].top + settings['text_style_border_width'].unit;\r\n    wrapperStyles.borderRightWidth = settings['text_style_border_width'].right + settings['text_style_border_width'].unit;\r\n    wrapperStyles.borderBottomWidth = settings['text_style_border_width'].bottom + settings['text_style_border_width'].unit;\r\n    wrapperStyles.borderLeftWidth = settings['text_style_border_width'].left + settings['text_style_border_width'].unit;\r\n    wrapperStyles.borderStyle = settings['text_style_border_type'];\r\n    if(settings['text_style_border_color'] && settings['text_style_border_color'].colorPickedHex)\r\n      wrapperStyles.borderColor = settings['text_style_border_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['text_style_border_radius']) {\r\n    // let borderRadiusTop = settings['border_radius'].top + settings['border_radius'].unit;\r\n    // let borderRadiusRight = settings['border_radius'].right + settings['border_radius'].unit;\r\n    // let borderRadiusBottom = settings['border_radius'].bottom + settings['border_radius'].unit;\r\n    // let borderRadiusLeft = settings['border_radius'].left + settings['border_radius'].unit;\r\n    // wrapperStyles.borderRadius = `${borderRadiusTop} ${borderRadiusRight} ${borderRadiusBottom} ${borderRadiusLeft}`;\r\n    wrapperStyles.borderRadius = settings['text_style_border_radius'].size + settings['text_style_border_radius'].unit;\r\n  }\r\n  if(settings['text_style_column-count'] && settings['text_style_column-count'] !== 1) {\r\n    wrapperStyles.columns = `${settings['text_style_column-count']} ${settings['text_style_column-gap'].size}${settings['text_style_column-gap'].unit}`\r\n  }\r\n  let textContent = this.getContent(\"text\");\r\n  const wrapperProps = {\r\n    style: wrapperStyles,\r\n    dangerouslySetInnerHTML:{\r\n      __html: textContent\r\n    },\r\n  };\r\n\r\n  if (this.props.CKEditor) {\r\n    return (\r\n      <div style={wrapperStyles}>\r\n        <this.props.CKEditor\r\n            changeText={this.changeText}\r\n            text={textContent}\r\n            readOnly={isEditor()}\r\n            textWidget={true}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n  return <div {...wrapperProps} />;\r\n}","import {getDataByPath, isEditor, prepareURLForEmail} from \"../../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Возвращает шаблон колонки для письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function imageElementEmailRender(){\r\n  const { element } = this.props;\r\n  const settings = this.props.element.getSettings();\r\n  \r\n  let media = settings.content_media;\r\n  const wrapperStyles = {\r\n    display: 'block',\r\n    textAlign: 'center',\r\n  };\r\n\r\n  if(settings['position_margin']) {\r\n    wrapperStyles.marginTop = settings['position_margin'].top ? (settings['position_margin'].top + settings['position_margin'].unit) : wrapperStyles.marginTop;\r\n    wrapperStyles.marginRight = settings['position_margin'].right ? (settings['position_margin'].right + settings['position_margin'].unit) : wrapperStyles.marginRight; \r\n    wrapperStyles.marginBottom = settings['position_margin'].bottom ? (settings['position_margin'].bottom + settings['position_margin'].unit) : wrapperStyles.marginBottom;\r\n    wrapperStyles.marginLeft = settings['position_margin'].left ? (settings['position_margin'].left + settings['position_margin'].unit) : wrapperStyles.marginLeft ;\r\n  }\r\n\r\n  if(settings['position_padding']) {\r\n    wrapperStyles.paddingTop = settings['position_padding'].top ? (settings['position_padding'].top + settings['position_padding'].unit) : wrapperStyles.paddingTop;\r\n    wrapperStyles.paddingRight = settings['position_padding'].right ? (settings['position_padding'].right + settings['position_padding'].unit) : wrapperStyles.paddingRight;\r\n    wrapperStyles.paddingBottom = settings['position_padding'].bottom ? (settings['position_padding'].bottom + settings['position_padding'].unit) : wrapperStyles.paddingBottom;\r\n    wrapperStyles.paddingLeft = settings['position_padding'].left ? (settings['position_padding'].left + settings['position_padding'].unit) : wrapperStyles.paddingLeft;\r\n  }\r\n  \r\n  if(settings['opacity_overlay']) {\r\n    wrapperStyles.opacity = settings['opacity_overlay'].size;\r\n  }\r\n\r\n  if(settings['image_fit_size']) {\r\n    wrapperStyles.objectFit = settings['image_fit_size'];\r\n  }\r\n\r\n  if(settings['aspect_ratio_off']) {\r\n    wrapperStyles.position =  \"relative\";\r\n  } else {\r\n    wrapperStyles.position = \"static\";\r\n  }\r\n\r\n  if(settings['height_size']) {\r\n    wrapperStyles.height = settings['height_size'].size + settings['height_size'].unit;\r\n  }\r\n\r\n  if(settings['width_size']) {\r\n    wrapperStyles.width = settings['width_size'].size + settings['width_size'].unit;\r\n  }\r\n\r\n  if(settings['image_style_alignment']) {\r\n    wrapperStyles.alignContent = settings['image_style_alignment'];\r\n  }\r\n\r\n  // if(settings['image_style_text_shadow']) {\r\n  //   wrapperStyles.filter = `blur(${settings['image_style_text_shadow'].blur}) brightness(${settings['image_style_text_shadow'].brightness}) contrast(${settings['image_style_text_shadow'].contrast}) hue-rotate(${settings['image_style_text_shadow'].hue}) saturation(${settings['image_style_text_shadow'].saturate})`\r\n  // }\r\n\r\n  if(settings['background_color']) {\r\n    wrapperStyles.backgroundColor = settings['background_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['gradient'] && settings['gradient'].isWithGradient) {\r\n    wrapperStyles.backgroundImage = settings['gradient'].value.slice(0, -1);\r\n  }\r\n\r\n  if(_.get(settings, 'background_image.url')) {\r\n    wrapperStyles.backgroundImage = `url(${prepareURLForEmail(settings['background_image'].url)})`;\r\n  }\r\n\r\n  if(settings['background_position']) {\r\n    wrapperStyles.backgroundPosition = settings['background_position'];\r\n  }\r\n\r\n  if(settings['background_attachment']) {\r\n    wrapperStyles.backgroundAttachment = settings['background_attachment'];\r\n  }\r\n\r\n  if(settings['background_repeat']) {\r\n    wrapperStyles.backgroundRepeat = settings['background_repeat'];\r\n  }\r\n\r\n  if(settings['background_size']) {\r\n    wrapperStyles.backgroundSize = settings['background_size'];\r\n  }\r\n\r\n  if(settings['border_type'] && settings['border_type'] !== \"none\") {\r\n    wrapperStyles.borderTopWidth = settings['border_width'].top + settings['border_width'].unit;\r\n    wrapperStyles.borderRightWidth = settings['border_width'].right + settings['border_width'].unit;\r\n    wrapperStyles.borderBottomWidth = settings['border_width'].bottom + settings['border_width'].unit;\r\n    wrapperStyles.borderLeftWidth = settings['border_width'].left + settings['border_width'].unit;\r\n    wrapperStyles.borderStyle = settings['border_type'];\r\n    if(settings['border_color'] && settings['border_color'].colorPickedHex)\r\n      wrapperStyles.borderColor = settings['border_color'].colorPickedHex;\r\n  }\r\n\r\n  if(settings['border_radius']) {\r\n    // let borderRadiusTop = settings['border_radius'].top + settings['border_radius'].unit;\r\n    // let borderRadiusRight = settings['border_radius'].right + settings['border_radius'].unit;\r\n    // let borderRadiusBottom = settings['border_radius'].bottom + settings['border_radius'].unit;\r\n    // let borderRadiusLeft = settings['border_radius'].left + settings['border_radius'].unit;\r\n    // wrapperStyles.borderRadius = `${borderRadiusTop} ${borderRadiusRight} ${borderRadiusBottom} ${borderRadiusLeft}`;\r\n    wrapperStyles.borderRadius = settings['border_radius'].size + settings['border_radius'].unit;\r\n  }\r\n\r\n  if(settings['image_style_alignment']) {\r\n    wrapperStyles.justifyContent = settings['image_style_alignment'];\r\n    wrapperStyles.display = \"flex\";\r\n  }\r\n  const wrapperProps = {\r\n    style: wrapperStyles,\r\n  };\r\n\r\n  if(settings['aspect_ratio_size']) {\r\n    wrapperStyles.paddingTop = settings['aspect_ratio_size'] + '%';\r\n  }\r\n  let model = element.hasCardModel()\r\n      ? element.getCardModel()\r\n      : this.props.currentModel;\r\n  /**\r\n   * Возьмем данные из окружения\r\n   */\r\n  if (\r\n      settings.content_path &&\r\n      _.isObject(getDataByPath(settings.content_path, null, model))\r\n  ) {\r\n    media = getDataByPath(settings.content_path, null, model);\r\n    /**\r\n     * Проверим массив ли с файлами content_path\r\n     */\r\n    if (_.get(media, \"0\") instanceof File) {\r\n      media = _.get(media, \"0\");\r\n    } else {\r\n      media.assetType = \"media\";\r\n    }\r\n  } else if (\r\n      settings.content_path &&\r\n      _.isString(getDataByPath(settings.content_path, null, model))\r\n  ) {\r\n    media = getDataByPath(settings.content_path, null, model);\r\n    media = {\r\n      assetType: \"media\",\r\n      url: media,\r\n      name: \"null\"\r\n    };\r\n  }\r\n  const imageProps = {\r\n    src: prepareURLForEmail(media ? media.url : \"\"),\r\n  };\r\n  let wrapperTag = 'div';\r\n  if(_.get(settings, 'image_link.url')){\r\n    wrapperTag = 'a';\r\n    wrapperProps.href = prepareURLForEmail(_.get(settings, 'image_link.url'));\r\n  }\r\n  return React.createElement(wrapperTag, wrapperProps, React.createElement('img', imageProps));\r\n}","import AltrpQueryComponent from \"../../altrp-query-component/altrp-query-component\";\r\nimport {isEditor, prepareURLForEmail} from \"../../../../../../front-app/src/js/helpers\";\r\n\r\nexport function EmailTableComponent(props){\r\n  // console.log(props);\r\n  const {data, settings,  } = props;\r\n  const {\r\n    tables_columns: columns = [],\r\n    table_style_table_border_type,\r\n  } = settings;\r\n  const tableStyles = {\r\n    borderCollapse: 'collapse',\r\n    border: `${table_style_table_border_type} ${_.get(settings, 'table_style_table_border_width.size') + _.get(settings, 'table_style_table_border_width.unit')} ${_.get(settings, 'table_style_table_border_color.color')}`\r\n  };\r\n  const defaultCellStyle = {\r\n    textAlign: settings.table_table_header_alignment || 'center',\r\n    verticalAlign: settings.table_table_header_alignment || 'center',\r\n  };\r\n  if(settings.table_style_table_border_type && settings.table_style_table_border_type !== 'none'){\r\n    defaultCellStyle.border = `${settings.table_style_table_border_type} ${_.get(settings, 'table_style_table_border_color.color')}`;\r\n    defaultCellStyle.borderLeftWidth = `${_.get(settings, 'table_style_table_border_width.left')}${_.get(settings, 'table_style_table_border_width.unit') || 'px'}`;\r\n    defaultCellStyle.borderTopWidth = `${_.get(settings, 'table_style_table_border_width.top')}${_.get(settings, 'table_style_table_border_width.unit') || 'px'}`;\r\n    defaultCellStyle.borderRightWidth = `${_.get(settings, 'table_style_table_border_width.right')}${_.get(settings, 'table_style_table_border_width.unit') || 'px'}`;\r\n    defaultCellStyle.borderBottomWidth = `${_.get(settings, 'table_style_table_border_width.bottom')}${_.get(settings, 'table_style_table_border_width.unit') || 'px'}`;\r\n  }\r\n\r\n  return <table width=\"100%\"\r\n                style={tableStyles}>\r\n    <thead>\r\n    <tr>\r\n      {columns.map(column => {\r\n        const headCellStyle = {...defaultCellStyle};\r\n\r\n        if(_.get(settings, 'table_style_header_text_color.colorPickedHex')){\r\n          headCellStyle.color = _.get(settings, 'table_style_header_text_color.colorPickedHex');\r\n        }\r\n\r\n        if(column.column_header_alignment){\r\n          headCellStyle.textAlign = column.column_header_alignment\r\n        }\r\n\r\n        headCellStyle.paddingLeft = `${_.get(settings, 'table_style_header_padding.left')}${_.get(settings, 'table_style_header_padding.unit') || 'px'}`;\r\n        headCellStyle.paddingTop = `${_.get(settings, 'table_style_header_padding.top')}${_.get(settings, 'table_style_header_padding.unit') || 'px'}`;\r\n        headCellStyle.paddingRight = `${_.get(settings, 'table_style_header_padding.right')}${_.get(settings, 'table_style_header_padding.unit') || 'px'}`;\r\n        headCellStyle.paddingBottom = `${_.get(settings, 'table_style_header_padding.bottom')}${_.get(settings, 'table_style_header_padding.unit') || 'px'}`;\r\n\r\n        headCellStyle.fontFamily = _.get(settings, 'table_style_header_font.family') || 'Arial';\r\n        headCellStyle.lineHeight = _.get(settings, 'table_style_header_font.lineHeight') || '1.5';\r\n        headCellStyle.fontSize = (_.get(settings, 'table_style_header_font.size') || '16')\r\n            + (_.get(settings, 'table_style_header_font.sizeUnit') || 'px');\r\n        headCellStyle.letterSpacing = _.get(settings, 'table_style_header_font.spacing');\r\n        headCellStyle.fontStyle = _.get(settings, 'table_style_header_font.style') || '';\r\n        headCellStyle.textTransform = _.get(settings, 'table_style_header_font.transform') || '';\r\n\r\n        if(settings.table_style_header_border_type && settings.table_style_header_border_type !== 'none'){\r\n          headCellStyle.border = `${settings.table_style_header_border_type} ${_.get(settings, 'table_style_header_border_color.color')}`;\r\n          headCellStyle.borderLeftWidth = `${_.get(settings, 'table_style_header_border_width.left')}${_.get(settings, 'table_style_header_border_width.unit') || 'px'}`;\r\n          headCellStyle.borderTopWidth = `${_.get(settings, 'table_style_header_border_width.top')}${_.get(settings, 'table_style_header_border_width.unit') || 'px'}`;\r\n          headCellStyle.borderRightWidth = `${_.get(settings, 'table_style_header_border_width.right')}${_.get(settings, 'table_style_header_border_width.unit') || 'px'}`;\r\n          headCellStyle.borderBottomWidth = `${_.get(settings, 'table_style_header_border_width.bottom')}${_.get(settings, 'table_style_header_border_width.unit') || 'px'}`;\r\n        }\r\n        const columnProps = {\r\n          style: headCellStyle,\r\n        };\r\n        if(_.get(settings, 'table_style_header_background.colorPickedHex')){\r\n          headCellStyle.backgroundColor = _.get(settings, 'table_style_header_background.colorPickedHex');\r\n        }\r\n        if(column.column_width){\r\n          columnProps.width = column.column_width + '%';\r\n        }\r\n        return <th key={column.id} {...columnProps}>{column.column_name || ''}</th>\r\n      })}\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    {\r\n      data.map((row, idx) => {\r\n        return <tr key={idx}>\r\n          {columns.map(column => {\r\n            let cellContent = 'Test data';\r\n            if(! isEditor()){\r\n              cellContent = _.get(row, column.accessor) || '';\r\n              if(column.column_link){\r\n                let url = prepareURLForEmail(column.column_link, row);\r\n                cellContent = <a href={url} style={{\r\n                  fontFamily: _.get(settings, 'table_link_font.family') || 'Arial',\r\n                  fontSize:  _.get(settings, 'table_link_font.size') || 'inherit',\r\n                  fontStyle:  _.get(settings, 'table_link_font.style') || 'inherit',\r\n                  lineHeight:  _.get(settings, 'table_link_font.lineHeight') || 'inherit',\r\n                  color: _.get(settings, 'table_link_color.colorPickedHex') || 'inherit',\r\n                  textDecoration:  _.get(settings, 'table_link_font.decoration') || 'inherit',\r\n                  textTransform:  _.get(settings, 'table_link_font.transform') || 'inherit',\r\n                }}>{cellContent}</a>\r\n              }\r\n            } else {\r\n              if(column.column_link){\r\n                cellContent = <span style={{\r\n                  fontFamily: _.get(settings, 'table_link_font.family') || 'Arial',\r\n                  fontSize:  _.get(settings, 'table_link_font.size') || 'inherit',\r\n                  fontStyle:  _.get(settings, 'table_link_font.style') || 'inherit',\r\n                  lineHeight:  _.get(settings, 'table_link_font.lineHeight') || 'inherit',\r\n                  color: _.get(settings, 'table_link_color.colorPickedHex') || 'inherit',\r\n                  textDecoration:  _.get(settings, 'table_link_font.decoration') || 'inherit',\r\n                  textTransform:  _.get(settings, 'table_link_font.transform') || 'inherit',\r\n                }}>{cellContent}</span>\r\n              }\r\n            }\r\n            const cellStyles = {...defaultCellStyle};\r\n\r\n            cellStyles.textAlign =  column.column_body_alignment || settings.table_table_body_alignment;\r\n            cellStyles.verticalAlign =  column.column_cell_vertical_alignment || settings.cell_vertical_alignment;\r\n\r\n            if(settings.table_style_body_border_type && settings.table_style_body_border_type !== 'none'){\r\n              cellStyles.border = `${settings.table_style_header_border_type} ${_.get(settings, 'table_style_body_border_color_.color')}`;\r\n              cellStyles.borderLeftWidth = `${_.get(settings, 'table_style_body_border_width.left')}${_.get(settings, 'table_style_body_border_width.unit') || 'px'}`;\r\n              cellStyles.borderTopWidth = `${_.get(settings, 'table_style_body_border_width.top')}${_.get(settings, 'table_style_body_border_width.unit') || 'px'}`;\r\n              cellStyles.borderRightWidth = `${_.get(settings, 'table_style_body_border_width.right')}${_.get(settings, 'table_style_body_border_width.unit') || 'px'}`;\r\n              cellStyles.borderBottomWidth = `${_.get(settings, 'table_style_body_border_width.bottom')}${_.get(settings, 'table_style_body_border_width.unit') || 'px'}`;\r\n            }\r\n\r\n            cellStyles.paddingLeft = `${_.get(settings, 'table_style_body_cell_padding.left')}${_.get(settings, 'table_style_body_cell_padding.unit') || 'px'}`;\r\n            cellStyles.paddingTop = `${_.get(settings, 'table_style_body_cell_padding.top')}${_.get(settings, 'table_style_body_cell_padding.unit') || 'px'}`;\r\n            cellStyles.paddingRight = `${_.get(settings, 'table_style_body_cell_padding.right')}${_.get(settings, 'table_style_body_cell_padding.unit') || 'px'}`;\r\n            cellStyles.paddingBottom = `${_.get(settings, 'table_style_body_cell_padding.bottom')}${_.get(settings, 'table_style_body_cell_padding.unit') || 'px'}`;\r\n\r\n            cellStyles.fontFamily = _.get(settings, 'table_style_body_font.family') || 'Arial';\r\n            cellStyles.lineHeight = _.get(settings, 'table_style_body_font.lineHeight') || '1.5';\r\n            cellStyles.fontSize = (_.get(settings, 'table_style_body_font.size') || '16')\r\n                + (_.get(settings, 'table_style_body_font.sizeUnit') || 'px');\r\n            cellStyles.letterSpacing = _.get(settings, 'table_style_body_font.spacing');\r\n            cellStyles.fontStyle = _.get(settings, 'table_style_body_font.style') || '';\r\n            cellStyles.textTransform = _.get(settings, 'table_style_body_font.transform') || '';\r\n\r\n            if(_.get(settings, 'table_style_body_border_text_color.colorPickedHex')){\r\n              cellStyles.color = _.get(settings, 'table_style_body_border_text_color.colorPickedHex');\r\n            }\r\n            const cellProps = {\r\n              style: cellStyles,\r\n            };\r\n\r\n            if(_.get(settings, 'table_style_body_border_background.colorPickedHex')){\r\n              cellStyles.backgroundColor = _.get(settings, 'table_style_body_border_background.colorPickedHex');\r\n            }\r\n            return <td key={column.id + idx} {...cellProps}>{cellContent}</td>\r\n          })}\r\n        </tr>\r\n      })\r\n    }\r\n    </tbody>\r\n  </table>;\r\n}\r\n\r\nexport default (props) => {\r\n  if(isEditor()) {\r\n    props = {...props};\r\n    props.data = Array.from({length: 10}, () => ({}));\r\n    return <EmailTableComponent {...props}/>\r\n  }\r\n  return <AltrpQueryComponent {...props}><EmailTableComponent/></AltrpQueryComponent>\r\n}","import {getDataByPath,} from \"../../../../../front-app/src/js/helpers\";\r\nimport Query from \"../../classes/Query\";\r\nimport EmailTableComponent from \"../../components/altrp-table/components/EmailTableComponent\";\r\n\r\n/**\r\n * Возвращает шаблон таблицы для email-письма\r\n * @return {React.DetailedReactHTMLElement<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement> | React.DetailedReactHTMLElement<React.HTMLAttributes<T>, HTMLElement> | React.ReactSVGElement | React.DOMElement<React.DOMAttributes<T>, Element> | React.FunctionComponentElement<{}> | React.CElement<{}, React.ClassicComponent<{}, React.ComponentState>> | React.CElement<{}, React.Component<P, React.ComponentState>> | React.ReactElement<{}>}\r\n */\r\nexport default function tableElementEmailRender(){\r\n\r\n  const settings = this.props.element.getSettings();\r\n  if(! this.props.currentModel.getProperty('altrpModelUpdated')){\r\n    return '';\r\n  }\r\n  let data = [];\r\n  if(this.props.element.getSettings('table_datasource')\r\n      && this.props.element.getSettings('choose_datasource') === 'datasource'){\r\n    let path = this.props.element.getSettings('table_datasource').replace(/{{/g, '').replace(/}}/g, '');\r\n    data = getDataByPath(path)\r\n  }\r\n  let query = new Query(this.props.element.getSettings().table_query || {}, this);\r\n  if(! this.showTable(query)){\r\n    return <div children=\"Please Choose Source\"/>\r\n  }\r\n  if (! (_.get(settings,'tables_columns.length'))) {\r\n    return <div children=\"Please Add Column\"/>\r\n  }\r\n  return <EmailTableComponent query={query}\r\n          updateToken={this.props.updateToken}\r\n          widgetId={this.props.element.getId()}\r\n          currentModel={this.props.currentModel}\r\n          data={data || query.getFromModel(this.state.modelData)}\r\n          settings={this.props.element.getSettings()}/>;\r\n}","import * as altrpHelpers from '../helpers';\nimport * as styles from '../helpers/styles';\nimport  Cookies from 'js-cookie';\nimport Resource from \"../../../../editor/src/js/classes/Resource\";\nimport AltrpModel from \"../../../../editor/src/js/classes/AltrpModel\";\nimport Styles from '../../../../editor/src/js/components/Styles';\nimport {baseEmailRender} from '../../../../editor/src/js/decorators/base-email-render';\nimport Area from \"../classes/Area\";\nwindow.altrpHelpers = window.altrpHelpers || {};\nwindow.baseEmailRender = baseEmailRender;\nwindow.Cookies = Cookies\nwindow.StylesComponent = Styles;\nwindow.altrpHelpers = {\n  ...window.altrpHelpers,\n  ...altrpHelpers,\n  styles,\n  Resource,\n  AltrpModel,\n  Area\n};\n/**\n * Install\n */\n\n/**\n * Проверка на включение BVI\n */\n(async function (){\n  if(window.Cookies.get('bvi-theme')){\n    const  loadVIPlugin =  (await import(/* webpackChunkName: 'altrp-js-plugins' */'../../js/helpers/plugins')).loadVIPlugin;\n    await loadVIPlugin(false);\n    $.bvi();\n  }\n})();\n/**\n * Запускаем обновление списка страниц\n */\n(async function () {\n\n  // const pageUpdater = (await import('./js/classes/modules/PageUpdater')).default;\n  // function updater(){\n  //   pageUpdater.startUpdating();\n  //   window.removeEventListener('render-altrp', updater);\n  // }\n  window.addEventListener && window.addEventListener('render-altrp', replaceApp);\n  // window.addEventListener('render-altrp', updater);\n})();\n/**\n * Смена Разрешения\n */\n(async function (){\n  const  setCurrentScreen =  (await import(/* webpackChunkName: 'media-screen-storage-actions' */'../../js/store/media-screen-storage/actions')).setCurrentScreen;\n  const  CONSTANTS =  (await import(/* webpackChunkName: 'CONSTANTS' */'../../../../editor/src/js/consts')).default;\n  window.CONSTANTS = CONSTANTS;\n  window.addEventListener && window.addEventListener('resize', e=>{\n    const {currentScreen} = appStore.getState();\n    const changedScreen = CONSTANTS.SCREENS.find(screen=>{\n      if(! screen.fullMediaQuery){\n        return false;\n      }\n      let query = screen.fullMediaQuery;\n      query = query.replace('@media', '');\n      return window.matchMedia(query).matches;\n    }) || CONSTANTS.SCREENS[0];\n    if(currentScreen !== changedScreen){\n      appStore.dispatch(setCurrentScreen(changedScreen));\n    }\n  });\n})();\n\nfunction replaceApp(){\n  if(! document.getElementById('front-app-server')){\n    console.error(document.getElementById('front-app-server'));\n    return;\n  }\n  const appElement = document.getElementById('front-app');\n  const appServer = document.getElementById('front-app-server');\n  appServer.remove();\n  appElement.removeAttribute('style');\n  window.removeEventListener('render-altrp', replaceApp);\n}\n","import rootElementEmailRender from \"../renders/email/rootElementEmailRender\";\r\nimport sectionElementEmailRender from \"../renders/email/sectionElementEmailRender\";\r\nimport buttonElementEmailRender from \"../renders/email/buttonElementEmailRender\";\r\nimport columnElementEmailRender from \"../renders/email/columnElementEmailRender\";\r\nimport headingElementEmailRender from \"../renders/email/headingElementEmailRender\";\r\nimport textElementEmailRender from \"../renders/email/textElementEmailRender\";\r\nimport imageElementEmailRender from \"../renders/email/imageElementEmailRender\";\r\nimport tableElementEmailRender from \"../renders/email/tableElementEmailRender\";\r\nimport {isEditor} from \"../../../../front-app/src/js/helpers\";\r\n\r\n/**\r\n * Отрисовка контента элемента для писем\r\n * @param component\r\n * @return {*}\r\n */\r\nexport function baseEmailRender(component){\r\n  switch(component.props.element.getName()){\r\n    case 'root-element':{\r\n      return rootElementEmailRender.bind(component);\r\n    }\r\n    case 'section':{\r\n      return sectionElementEmailRender.bind(component);\r\n    }\r\n    case 'column':{\r\n      return columnElementEmailRender.bind(component);\r\n    }\r\n    case 'button':{\r\n      return buttonElementEmailRender.bind(component);\r\n    }\r\n    case 'heading':{\r\n      return headingElementEmailRender.bind(component);\r\n    }\r\n    case 'text':{\r\n      return textElementEmailRender.bind(component);\r\n    }\r\n    case 'image':{\r\n      return imageElementEmailRender.bind(component);\r\n    }\r\n    case 'table':{\r\n      return tableElementEmailRender.bind(component);\r\n    }\r\n  }\r\n  return ()=>{\r\n    if(isEditor()){\r\n      return <div className=\"tba-placeholder\">TBA</div>\r\n    }\r\n    return null\r\n  };\r\n}","/**\n * Set a value by a dot path.\n * @param obj The object to evaluate.\n * @param prop The path to be set.\n * @param value The value to set.\n */\nfunction set(obj, prop, value) {\n\tprop = typeof prop === 'number' ? propToArray(prop.toString()) : typeof prop === 'string' ? propToArray(prop) : prop;\n\n\tconst setPropImmutableRec = (obj, prop, value, i) => {\n\t\tlet clone, head = prop[i];\n\n\t\tif (prop.length > i) {\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\thead = getArrayIndex(head, obj);\n\t\t\t\tclone = obj.slice();\n\t\t\t} else {\n\t\t\t\tclone = Object.assign({}, obj);\n\t\t\t}\n\t\t\tclone[head] = setPropImmutableRec(obj[head] !== undefined ? obj[head] : {}, prop, value, i + 1);\n\t\t\treturn clone;\n\t\t}\n\n\t\treturn typeof value === 'function' ? value(obj) : value;\n\t};\n\n\treturn setPropImmutableRec(obj, prop, value, 0);\n}\n\n/**\n * Get a value by a dot path.\n * @param obj The object to evaluate.\n * @param prop The path to value that should be returned.\n * @param [value] The default value that should be returned when the target doesn't exist.\n */\nfunction get(obj, prop, value) {\n\tprop = typeof prop === 'number' ? propToArray(prop.toString()) : typeof prop === 'string' ? propToArray(prop) : prop;\n\n\tfor (var i = 0; i < prop.length; i++) {\n\t\tif (obj === null || typeof obj !== 'object') {\n\t\t\treturn value;\n\t\t}\n\t\tlet head = prop[i];\n\t\tif (Array.isArray(obj) && head === '$end') {\n\t\t\thead = obj.length - 1;\n\t\t}\n\t\tobj = obj[head];\n\t}\n\n\tif (typeof obj === 'undefined') {\n\t\treturn value;\n\t}\n\n\treturn obj;\n}\n\n/**\n * Delete a property by a dot path.\n * If target container is an object, the property is deleted.\n * If target container is an array, the index is deleted.\n * If target container is undefined, nothing is deleted.\n * @param obj The object to evaluate.\n * @param prop The path to the property or index that should be deleted.\n */\nfunction _delete(obj, prop) {\n\tprop = typeof prop === 'number' ? propToArray(prop.toString()) : typeof prop === 'string' ? propToArray(prop) : prop;\n\n\tconst deletePropImmutableRec = (obj, prop, i) => {\n\t\tlet clone, head = prop[i];\n\n\t\tif (obj === null || typeof obj !== 'object' ||\n\t\t\t!Array.isArray(obj) && obj[head] === undefined) {\n\n\t\t\treturn obj;\n\t\t}\n\n\t\tif (prop.length - 1 > i) {\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\thead = getArrayIndex(head, obj);\n\t\t\t\tclone = obj.slice();\n\t\t\t} else {\n\t\t\t\tclone = Object.assign({}, obj);\n\t\t\t}\n\n\t\t\tclone[head] = deletePropImmutableRec(obj[head], prop, i + 1);\n\t\t\treturn clone;\n\t\t}\n\n\t\tif (Array.isArray(obj)) {\n\t\t\thead = getArrayIndex(head, obj);\n\t\t\tclone = [].concat(obj.slice(0, head), obj.slice(head + 1));\n\t\t} else {\n\t\t\tclone = Object.assign({}, obj);\n\t\t\tdelete clone[head];\n\t\t}\n\n\t\treturn clone;\n\t};\n\n\treturn deletePropImmutableRec(obj, prop, 0);\n}\n\n/**\n * Toggles a value.  The target value is evaluated using Boolean(currentValue).  The result will always be a JSON boolean.\n * Be careful with strings as target value, as \"true\" and \"false\" will toggle to false, but \"0\" will toggle to true.\n * Here is what Javascript considers false:  0, -0, null, false, NaN, undefined, and the empty string (\"\")\n * @param obj The object to evaluate.\n * @param prop The path to the value.\n */\nfunction toggle(obj, prop) {\n\tconst curVal = get(obj, prop);\n\treturn set(obj, prop, !Boolean(curVal));\n}\n\n/**\n * Merges a value.  The target value must be an object, array, null, or undefined.\n * If target is an object, Object.assign({}, target, param) is used.\n * If target an array, target.concat(param) is used.\n * If target is null or undefined, the value is simply set.\n * @param obj The object to evaluate.\n * @param prop The path to the value.\n * @param val The value to merge into the target value.\n */\nfunction merge(obj, prop, val) {\n\tconst curVal = get(obj, prop);\n\tif (typeof curVal === 'object') {\n\t\tif (Array.isArray(curVal)) {\n\t\t\treturn set(obj, prop, curVal.concat(val));\n\t\t} else if (curVal === null) {\n\t\t\treturn set(obj, prop, val);\n\t\t}\n\t\telse {\n\t\t\tlet merged = Object.assign({}, curVal, val);\n\t\t\treturn set(obj, prop, merged);\n\t\t}\n\t} else if (typeof curVal === 'undefined') {\n\t\treturn set(obj, prop, val);\n\t}\n\telse {\n\t\treturn obj;\n\t}\n}\n\nfunction getArrayIndex(head, obj) {\n\tif (head === '$end') {\n\t\thead = Math.max(obj.length - 1, 0);\n\t}\n\tif (!/^\\+?\\d+$/.test(head)) {\n\t\tthrow new Error(`Array index '${head}' has to be an integer`);\n\t}\n\treturn parseInt(head);\n}\n\nfunction propToArray(prop) {\n\treturn prop.split('.').reduce((ret, el, index, list) => {\n\t\tconst last = index > 0 && list[index - 1];\n\t\tif (last && /(?:^|[^\\\\])\\\\$/.test(last)) {\n\t\t\tconst prev = ret.pop();\n\t\t\tret.push(prev.slice(0, -1) + '.' + el);\n\t\t} else {\n\t\t\tret.push(el);\n\t\t}\n\t\treturn ret;\n\t}, []);\n}\n\nmodule.exports = {\n\tset,\n\tget,\n\tdelete: _delete,\n\ttoggle,\n\tmerge\n};\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n"],"sourceRoot":""}