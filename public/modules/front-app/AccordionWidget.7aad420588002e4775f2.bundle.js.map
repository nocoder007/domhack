{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./resources/modules/editor/src/js/components/widgets/AccordionWidget.js"],"names":["_assertThisInitialized","self","ReferenceError","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","TypeError","prototype","create","constructor","_possibleConstructorReturn","call","_setPrototypeOf","p","_typeof","Symbol","iterator","renderAssetIcon","window","altrpHelpers","globalDefaults","push","AccordionWidget","props","settings","element","getSettings","state","activeItem","id","metaData","i","length","Number","open","bind","component","elementDecorator","baseRender","render","e","currentTarget","dataset","this","multiple_additional_content","setState","items","repeater_meta_data_section","icon","active_icon","icon_accordion_content","className","active_icon_accordion_content","title_html_tag_accordion_content","accordion_items","map","item","idx","onClick","React","createElement","title_repeater","dangerouslySetInnerHTML","__html","wysiwyg_repeater","Component"],"mappings":"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","file":"AccordionWidget.7aad420588002e4775f2.bundle.js","sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","const {renderAssetIcon} = window.altrpHelpers;\n\n(window.globalDefaults = window.globalDefaults || []).push(`\n  .altrp-accordion-item-button {\n    background-color: rgb(52, 59, 76);\n    color: #ffffff;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: row;\n    cursor: pointer;\n    width: 100%;\n    padding: 15px 20px;\n    z-index: 4;\n  }\n\n  .altrp-accordion-item-content {\n    background-color: rgb(79, 90, 114);\n    color: #ffffff;\n    width: 100%;\n    height: 100%;\n    line-height: 0;\n    padding-left: 20px !important;\n    padding-right: 20px !important;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    flex-wrap: wrap;\n    transition: 250ms ease-in-out;\n    z-index: 0;\n    text-align: left;\n    top: -1em;\n    height: 0px;\n  }\n\n  .altrp-accordion-item-content-show {\n    padding: 15px 20px;\n    line-height: 1;\n    top: 0;\n    z-index: 0;\n    height: auto;\n  }\n\n  .altrp-accordion-item-content * {\n    margin: 0;\n  }\n\n  .altrp-accordion-item-label-container {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    margin-right: auto;\n  }\n\n  .altrp-accordion-item:first-child {\n    margin-top: 0px !important;\n  }\n\n  .altrp-accordion-item-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`);\n\nclass AccordionWidget extends Component {\n  constructor(props){\n    super(props);\n    let settings = props.element.getSettings();\n    this.state = {\n      settings: settings,\n      activeItem: {\n        id: [],\n      }\n    };\n\n    const metaData = props.element.getSettings(\"repeater_meta_data_section\", []);\n    const activeItem = props.element.getSettings(\"active_item_additional_content\", 0);\n    for (let i = 0; i<metaData.length; i++) {\n      if(i !== Number(activeItem - 1)) {\n        this.state.activeItem.id.push(false)\n      } else {\n        this.state.activeItem.id.push(true)\n      };\n    };\n\n    this.open = this.open.bind(this);\n    props.element.component = this;\n    if(window.elementDecorator){\n      window.elementDecorator(this);\n    }\n    if(props.baseRender){\n      this.render = props.baseRender(this);\n    }\n  }\n\n  open(e) {\n    let activeItem = Number(e.currentTarget.dataset.key) || 0;\n\n    if(!this.state.settings.multiple_additional_content) {\n      for (let i = 0; i<this.state.activeItem.id.length; i++) {\n        if (i === activeItem) {\n          this.setState((state) => {\n            state.activeItem.id[activeItem] = !state.activeItem.id[activeItem];\n            return {\n              ...state\n            };\n          });\n        } else {\n          this.setState((state) => {\n            state.activeItem.id[i] = false;\n            return {\n              ...state\n            };\n          });\n        }\n      };\n    };\n  };\n\n  render(){\n    let items = this.state.settings.repeater_meta_data_section || [];\n    let icon = \"\";\n    let active_icon = \"\";\n\n    if(this.state.settings.icon_accordion_content) {\n      icon = renderAssetIcon(this.state.settings.icon_accordion_content,\n        {className: \"altrp-accordion-item-icon-svg\"}\n        );\n    }\n\n    if(this.state.settings.active_icon_accordion_content) {\n      active_icon = renderAssetIcon(this.state.settings.active_icon_accordion_content,\n        {className: \"altrp-accordion-item-active-icon-svg\"}\n      );\n    }\n    const title_html_tag_accordion_content = this.props.element.getSettings('title_html_tag_accordion_content') || 'div'\n    let accordion_items = items.map((item, idx) => {\n\n      return (\n        <div className={\"altrp-accordion-item\" + (this.state.activeItem.id[idx] ? ' active' : '')} key={idx}>\n          {/*button*/}\n          <div className=\"altrp-accordion-item-button\" data-key={idx} onClick={(e) => this.open(e)}>\n            <div className=\"altrp-accordion-item-label-container\">\n              {\n                React.createElement(\n                  title_html_tag_accordion_content,\n                  {\n                    className: \"altrp-accordion-item-label\"\n                  },\n                  [item.title_repeater]\n                )\n              }\n            </div>\n            {/*icon*/}\n            <div className=\"altrp-accordion-item-icon\">\n              {this.state.activeItem.id[idx] ? active_icon : icon}\n            </div>\n          </div>\n          {/*content*/}\n          {\n            React.createElement(\"div\", {\n              className: \"altrp-accordion-item-content\" + (this.state.activeItem.id[idx] ?\n                  \" altrp-accordion-item-content-show\"\n                  :\n                  \"\"\n              )\n              ,\n              dangerouslySetInnerHTML: {\n                __html: item.wysiwyg_repeater\n              },\n              \"data-item\": idx\n            })\n          }\n        </div>\n      )\n    });\n\n    return <div className=\"altrp-accordion\">\n      {\n        accordion_items\n      }\n    </div>\n  }\n}\n\nexport default AccordionWidget\n"],"sourceRoot":""}