(self.webpackChunk=self.webpackChunk||[]).push([[7761],{63349:function(e,t,n){"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return a}})},96156:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return a}})},77608:function(e,t,n){"use strict";function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,{Z:function(){return a}})},10379:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(14665);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,a.Z)(e,t)}},46070:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(90484),r=n(63349);function c(e,t){return!t||"object"!==(0,a.Z)(t)&&"function"!=typeof t?(0,r.Z)(e):t}},14665:function(e,t,n){"use strict";function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{Z:function(){return a}})},90484:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return a}})},89981:function(e,t,n){"use strict";n.r(t);var a=n(96156),r=n(92137),c=n(6610),s=n(5991),l=n(63349),i=n(10379),o=n(46070),p=n(77608),u=n(87757),m=n.n(u);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=window.altrpHelpers,g=d.getComponentByElementId,h=d.getHTMLElementById,R=d.isEditor,E=d.parseURLTemplate,v=d.printElements,w=d.renderAsset,y=d.scrollToElement;(window.globalDefaults=window.globalDefaults||[]).push("\n  .altrp-btn-wrapper {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n\n    & img {\n      max-width: 100%;\n    }\n  }\n\n  .altrp-btn:hover {\n    text-decoration: none;\n  }\n\n  .altrp-btn {\n    width: auto;\n    text-decoration: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    flex-direction: row;\n    background-color: #343B4C;\n    color: #FFFFFF;\n    padding-top: 20px;\n    padding-right: 25px;\n    padding-bottom: 20px;\n    padding-left: 25px\n\n    &_gray {\n      background-color: #8E94AA;\n      color: #fff;\n    }\n\n    &__icon {\n      transform: scale(0.6);\n    }\n\n    &-icon {\n      display: flex;\n      justify-content: center;\n    }\n\n    & svg {\n      height: 25px;\n      width: 25px;\n    }\n  }\n\n  .btn-container-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .btn-container-column {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n");var N=window.Link,k=function(e){(0,i.Z)(k,e);var t,a,u,b,d=(u=k,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,p.Z)(u);if(b){var n=(0,p.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,o.Z)(this,e)});function k(e){var t;return(0,c.Z)(this,k),(t=d.call(this,e)).getClasses=function(){var e="altrp-btn ";return t.isActive()&&(e+="active "),t.isDisabled()&&(e+="state-disabled "),e},t.state={settings:e.element.getSettings(),pending:!1},e.element.component=(0,l.Z)(t),window.elementDecorator&&window.elementDecorator((0,l.Z)(t)),e.baseRender&&(t.render=e.baseRender((0,l.Z)(t))),t.onClick=t.onClick.bind((0,l.Z)(t)),t}return(0,s.Z)(k,[{key:"_componentWillUnmount",value:(a=(0,r.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(4079),n.e(6593),n.e(2167),n.e(6737)]).then(n.bind(n,2167));case 2:e.sent.default.unregisterWidgetActions(this.props.element.getId());case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"onClick",value:(t=(0,r.Z)(m().mark((function e(t){var a,c,s,l,i,o=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),!R()){e.next=5;break}t.preventDefault(),e.next=13;break;case 5:if(!this.props.element.getResponsiveSetting("actions",null,[]).length){e.next=13;break}return t.preventDefault(),t.stopPropagation(),e.next=10,Promise.all([n.e(4079),n.e(6593),n.e(2167),n.e(6737)]).then(n.bind(n,2167));case 10:return a=e.sent.default,e.next=13,a.callAllWidgetActions(this.props.element.getIdForAction(),"click",this.props.element.getSettings("actions",[]),this.props.element);case 13:this.props.element.getForms().length?(this.setState((function(e){return f(f({},e),{},{pending:!0})})),this.props.element.getForms().forEach(function(){var e=(0,r.Z)(m().mark((function e(t){var n,a,r,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.submit(o.getModelId(),o.props.element.getResponsiveSetting("form_confirm"));case 3:if(!(n=e.sent).success){e.next=14;break}if(a=o.state.settings,r=a.redirect_to_prev_page,c=a.redirect_after,!r){e.next=8;break}return e.abrupt("return",history.back());case 8:if(!c){e.next=11;break}return c=E(c,n.data),e.abrupt("return",o.props.history.push(c));case 11:o.props.element.getResponsiveSetting("text_after",null,"")&&alert(o.props.element.getResponsiveSetting("text_after",null,"")),e.next=15;break;case 14:n.message&&alert(n.message);case 15:o.setState((function(e){return f(f({},e),{},{pending:!1})})),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0),o.setState((function(e){return f(f({},e),{},{pending:!1})}));case 22:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}())):t.target.href&&0===t.target.href.replace(window.location.origin+window.location.pathname,"").indexOf("#")?(c=t.target.href.replace(window.location.origin+window.location.pathname,"").replace("#",""),(s=h(c))&&(t.preventDefault(),y(mainScrollbars,s))):this.props.element.getResponsiveSetting("hide_elements_trigger")?this.props.toggleTrigger(this.props.element.getResponsiveSetting("hide_elements_trigger")):this.props.element.getResponsiveSetting("other_action_type","",[]).includes("print_elements")&&(l=(l=this.props.element.getResponsiveSetting("print_elements_ids",null,"")).split(","),i=[],l.forEach((function(e){var t;if(e&&e.trim()&&(h(e.trim())&&i.push(h(e)),null!==(t=g(e.trim()))&&void 0!==t&&t.getStylesHTMLElement)){var n=g(e.trim()).getStylesHTMLElement();n&&i.push(n)}})),_.get(window,"stylesModule.stylesContainer.current")&&i.push(_.get(window,"stylesModule.stylesContainer.current")),i.push(document.head),v(i));case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e,t=this.state.settings,n=t.link_link,a=void 0===n?{}:n,r=t.advanced_tooltip,c=history.back,s=this.props.element.getResponsiveSetting("background_image",null,{}),l=this.props.element.hasCardModel()?this.props.element.getCardModel().getData():this.props.currentModel.getData(),i=this.getClasses()+(this.state.settings.position_css_classes||"");s.url&&(i+=" altrp-background-image");var o=this.props.element.getContent("button_text"),p=f({},this.state.settings.button_icon_right),u=f({},this.state.settings.button_icon_left),m=f({},this.state.settings.button_icon_top),b=f({},this.state.settings.button_icon_bottom),d="";(p.url||u.url||m.url||b.url)&&(p.url&&(d+="r"),u.url&&(d+="l"),m.url&&(d+="t"),b.url&&(d+="b"));var g=o||"";"r"===(d=d.split("").sort().join(""))&&(g=React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," "))),"l"===d&&(g=React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",null))),"t"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),o,React.createElement("span",null))),"b"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),"blrt"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),"brt"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),"blt"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",null)),React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),"lrt"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," ")),React.createElement("span",null))),"blr"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),"rt"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," ")),React.createElement("span",null))),"lt"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",null)),React.createElement("span",null))),"bt"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",{className:"altrp-btn-icon-top "},w(m)," "),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",null)),React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),"br"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",null),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," ")),React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),"lr"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",{className:"altrp-btn-icon-right "},w(p)," ")),React.createElement("span",null))),"bl"===d&&(g=React.createElement("div",{className:"btn-container-column"},React.createElement("span",null),React.createElement("div",{className:"btn-container-row"},React.createElement("span",{className:"altrp-btn-icon-left "},w(u)," "),o,React.createElement("span",null)),React.createElement("span",{className:"altrp-btn-icon-bottom "},w(b)," "))),this.state.pending&&(i+=" altrp-disabled");var h=a.url?a.url.replace(":id",this.getModelId()||""):"";_.isObject(this.props.currentModel)&&(h=E(a.url||"",l));var v=React.createElement("button",{onClick:this.onClick,className:i,id:this.state.settings.position_css_id,title:r||null},g),y=null;if(null!==(e=this.state.settings.link_link)&&void 0!==e&&e.url&&!this.state.settings.link_link.toPrevPage)if("a"===this.state.settings.link_link.tag||R()){var k=_.get(this.state.settings,"link_link.openInNew")?"blank":"";y=React.createElement("a",{href:h,onClick:this.onClick,className:i,target:k,title:r||null}," ",g)}else y=React.createElement(N,{to:h,onClick:this.onClick,className:i,title:r||null}," ",g);return _.get(this.state,"settings.link_link.toPrevPage")&&(y=React.createElement("button",{onClick:function(){return R()?null:c()},className:i,id:this.state.settings.position_css_id,title:r||null},g)),React.createElement("div",{className:"altrp-btn-wrapper"},y||v||p||u||m||b)}}]),k}(Component);t.default=k}}]);
//# sourceMappingURL=ButtonWidget.a3b7e8c2b8b4578458e0.bundle.js.map